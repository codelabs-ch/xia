<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
<TITLE>Package: McKae.XML.XPath.Expressions</TITLE>
<META NAME="generator" CONTENT="AdaBrowse 4.0.3 http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/">
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<LINK REV="made" HREF="http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/">
<STYLE TYPE="text/css">
  TABLE.title  { background-color : #99CCFF }
  TABLE.footer { background-color : #99CCFF }
  TD.type { background-color : #CCEEFF }
  TD.odd { background-color : #99CCFF }
  TD.even { background-color : #CCEEFF }
  TD.code { background-color : #EEEEEE }
  SPAN.comment { color : red }
  SPAN.literal { color : green }
  SPAN.definition { color : purple }
  H3.subtitle  { background-color : #CCEEFF }
  UL.index { list-style: none }
</STYLE>
<LINK REL="stylesheet" HREF="adabrowse.css" TYPE="text/css">
</HEAD>

<BODY BGCOLOR="#FFFFF4">

<TABLE WIDTH="100%" CLASS="title" BORDER=0 CELLSPACING=0 CELLPADDING=5><TR><TD><H2>Package: McKae.XML.XPath.Expressions</H2></TD></TR></TABLE>

<!-- Generated by AdaBrowse 4.0.3 http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/ -->
<H3 CLASS="subtitle">Dependencies</H3>
<PRE><CODE><STRONG>with</STRONG> Ada.Strings.Unbounded;
<STRONG>use</STRONG>  Ada.Strings.Unbounded;
<STRONG>with</STRONG> <A HREF="dom.html">DOM</A>.<A HREF="dom-core.html">Core</A>;
</CODE></PRE>
<HR>
<H3 CLASS="subtitle">Description</H3>
<DIV>

                     McKae Software Utilities
<P>
           Copyright (C) 2004 McKae Technologies
<P>
 The  McKae   software  utilities   are  free  software;   you  can
 redistribute it  and/or modify it  under terms of the  GNU General
 Public  License  as published  by  the  Free Software  Foundation;
 either version  2, or (at  your option) any later  version.  McKae
 Software Utilities are  distributed in the hope that  they will be
 useful,  but  WITHOUT  ANY  WARRANTY;  without  even  the  implied
 warranty of  MERCHANTABILITY or FITNESS FOR  A PARTICULAR PURPOSE.
 See the GNU  General Public License for more  details.  You should
 have received a copy of the GNU General Public License distributed
 with DTraq; see file COPYING.   If not, write to the Free Software
 Foundation, 59  Temple Place -  Suite 330, Boston,  MA 02111-1307,
 USA.
<P>
 As a  special exception, if other files  instantiate generics from
 this unit,  or you link this  unit with other files  to produce an
 executable,  this unit  does  not by  itself  cause the  resulting
 executable to be covered by  the GNU General Public License.  This
 exception does  not however invalidate  any other reasons  why the
 executable file might be covered by the GNU Public License.
<P>
 The McKae Software Utilities  are maintained by McKae Technologies
 (http://www.mckae.com).
</P>
</DIV>
<HR>
<TABLE WIDTH="100%" BORDER=1 CELLSPACING=0 CELLPADDING=0>
<TR><TD COLSPAN=2>
<H3 CLASS="subtitle">Header</H3>
</TD></TR>
<TR><TD COLSPAN=2 CLASS="odd">
<PRE><CODE><STRONG>package</STRONG> <A HREF="mckae.html">McKae</A>.<A HREF="mckae-xml.html">XML</A>.<A HREF="mckae-xml-xpath.html">XPath</A>.<A NAME="35_25"><SPAN CLASS="definition">Expressions</SPAN></A> <STRONG>is</STRONG>
</CODE></PRE>
</TD></TR>
<TR><TD WIDTH="2%" CLASS="odd"><PRE> </PRE></TD>
<TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD>
<H3 CLASS="subtitle">Exceptions</H3>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0>
<TR><TD ALIGN="LEFT" CLASS="code">
<CODE><A NAME="95_4"><SPAN CLASS="definition">Invalid_Coercion</SPAN></A></CODE></TD></TR>
<TR><TD>
<DIV>
 Raised when an expression cannot be coerced to the requested type
</DIV>
</TD></TR>
<TR><TD ALIGN="LEFT" CLASS="code">
<CODE><A NAME="151_4"><SPAN CLASS="definition">Invalid_Expression</SPAN></A></CODE></TD></TR>
<TR><TD>
<DIV>
 Raised when there are problems evaluating an expression, such as
  wrong number of arguments, incorrect argument types, or simply
  an unrecognized function name.
</DIV>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD>
<HR>
<H3 CLASS="subtitle">Type Summary</H3>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#79_9">Argument_List</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#132_9">Computations</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#45_9">Expression_Value_Types</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#63_9">Expression_Values</A></CODE></TD></TR>
<TR><TD VALIGN="TOP">Primitive&nbsp;Operations:&nbsp;</TD><TD WIDTH="100%">
<CODE><A HREF="#87_14">Coerce</A></CODE>,
<CODE><A HREF="#119_13">Compare</A></CODE>,
<CODE><A HREF="#139_13">Compute</A></CODE>,
<CODE><A HREF="#158_14">Evaluate_Function</A></CODE>
</TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#37_9">Node_Items</A></CODE></TD></TR>
<TR><TD VALIGN="TOP">Primitive&nbsp;Operations:&nbsp;</TD><TD WIDTH="100%">
<CODE><A HREF="#158_14">Evaluate_Function</A></CODE>
</TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#99_9">Relational_Operators</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#55_9">Special_Number_Values</A></CODE></TD></TR>
</TABLE>
</TD></TR>
<TR><TD>
<HR>
<H3 CLASS="subtitle">Variables</H3>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0>
<TR><TD ALIGN="LEFT" CLASS="code">
<CODE><A NAME="82_4"><SPAN CLASS="definition">No_Arguments</SPAN></A> : <A HREF="#79_9">Argument_List</A>(1..0);</CODE>
</TD></TR>
<TR><TD>
<DIV>
 Force the value to take on a value consistent with the specified
  target type.  If there is no reasonable value for that type,
  raise the Invalid_Coercion exception.
</DIV>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD>
<HR>
<H3 CLASS="subtitle">Other Items:</H3>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="37_9"><SPAN CLASS="definition">Node_Items</SPAN></A> <STRONG>is</STRONG>
   <STRONG>record</STRONG>
      <A NAME="39_10"><SPAN CLASS="definition">N</SPAN></A>             : <A HREF="dom.html">DOM</A>.<A HREF="dom-core.html">Core</A>.<A HREF="dom-core.html#79_9">Node</A>;
      <A NAME="40_10"><SPAN CLASS="definition">Node_Position</SPAN></A> : Natural := 0;
      <A NAME="41_10"><SPAN CLASS="definition">Node_Set_Size</SPAN></A> : Natural := 0;
   <STRONG>end</STRONG> <STRONG>record</STRONG>;</CODE></PRE>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="45_9"><SPAN CLASS="definition">Expression_Value_Types</SPAN></A> <STRONG>is</STRONG>
  (<A NAME="46_7"><SPAN CLASS="definition">As_String</SPAN></A>,
   <A NAME="47_7"><SPAN CLASS="definition">As_Number</SPAN></A>,
   <A NAME="48_7"><SPAN CLASS="definition">As_Boolean</SPAN></A>,
   <A NAME="49_7"><SPAN CLASS="definition">As_Node_List</SPAN></A>,
   <A NAME="50_7"><SPAN CLASS="definition">As_Expr_Text</SPAN></A>
  );</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
 Types of expression values
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>subtype</STRONG> <A NAME="52_12"><SPAN CLASS="definition">Value_Types</SPAN></A> <STRONG>is</STRONG> <A HREF="#45_9">Expression_Value_Types</A> <STRONG>range</STRONG> <A HREF="#46_7">As_String</A> .. <A HREF="#49_7">As_Node_List</A>;</CODE></PRE>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="55_9"><SPAN CLASS="definition">Special_Number_Values</SPAN></A> <STRONG>is</STRONG>
  (<A NAME="56_7"><SPAN CLASS="definition">NaN</SPAN></A>,
   <A NAME="57_7"><SPAN CLASS="definition">Positive_Infinity</SPAN></A>,
   <A NAME="58_7"><SPAN CLASS="definition">Negative_Infinity</SPAN></A>,
   <A NAME="59_7"><SPAN CLASS="definition">Normal</SPAN></A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
 Special otherwise non-representable numeric values
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>subtype</STRONG> <A NAME="60_12"><SPAN CLASS="definition">Special_Numbers</SPAN></A> <STRONG>is</STRONG> <A HREF="#55_9">Special_Number_Values</A> <STRONG>range</STRONG> <A HREF="#56_7">NaN</A> .. <A HREF="#58_7">Negative_Infinity</A>;</CODE></PRE>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="63_9"><SPAN CLASS="definition">Expression_Values</SPAN></A> (<A NAME="63_28"><SPAN CLASS="definition">Value_Type</SPAN></A> : <A HREF="#45_9">Expression_Value_Types</A> := <A HREF="#46_7">As_String</A>) <STRONG>is</STRONG>
   <STRONG>record</STRONG>
      <STRONG>case</STRONG> <A HREF="#63_28">Value_Type</A> <STRONG>is</STRONG>
         <STRONG>when</STRONG> <A HREF="#46_7">As_String</A> | <A HREF="#50_7">As_Expr_Text</A> =&gt;
            <A NAME="67_16"><SPAN CLASS="definition">S</SPAN></A> : Unbounded_String;
         <STRONG>when</STRONG> <A HREF="#47_7">As_Number</A> =&gt;
            <A NAME="69_16"><SPAN CLASS="definition">F</SPAN></A> : Long_Float                  := 0.0;
            <A NAME="70_16"><SPAN CLASS="definition">Special</SPAN></A> : <A HREF="#55_9">Special_Number_Values</A> := <A HREF="#59_7">Normal</A>;
         <STRONG>when</STRONG> <A HREF="#48_7">As_Boolean</A> =&gt;
            <A NAME="72_16"><SPAN CLASS="definition">B</SPAN></A> : Boolean := False;
         <STRONG>when</STRONG> <A HREF="#49_7">As_Node_List</A> =&gt;
            <A NAME="74_16"><SPAN CLASS="definition">Ns</SPAN></A>: <A HREF="dom.html">DOM</A>.<A HREF="dom-core.html">Core</A>.<A HREF="dom-core.html#95_9">Node_List</A>;
      <STRONG>end</STRONG> <STRONG>case</STRONG>;
   <STRONG>end</STRONG> <STRONG>record</STRONG>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
 Container for the value of an expression
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="79_9"><SPAN CLASS="definition">Argument_List</SPAN></A> <STRONG>is</STRONG> <STRONG>array</STRONG> (Natural <STRONG>range</STRONG> &lt;&gt;) <STRONG>of</STRONG> <A HREF="#63_9">Expression_Values</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
 List in which function call arguments values are stored
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="87_14"><SPAN CLASS="definition">Coerce</SPAN></A>
  (Value   : <STRONG>in</STRONG> <STRONG>out</STRONG> <A HREF="#63_9">Expression_Values</A>;
   <EM><SPAN CLASS="comment">-- The value to coerce into a value consistent with the target type</SPAN></EM>

   To_Type : <STRONG>in</STRONG>     <A HREF="#52_12">Value_Types</A>       := <A HREF="#46_7">As_String</A>
   <EM><SPAN CLASS="comment">-- Target type for the value</SPAN></EM>
  );</CODE></PRE>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="99_9"><SPAN CLASS="definition">Relational_Operators</SPAN></A> <STRONG>is</STRONG>
  (<A NAME="100_7"><SPAN CLASS="definition">Less_Than</SPAN></A>,
   <A NAME="101_7"><SPAN CLASS="definition">Less_Or_Equal</SPAN></A>,
   <A NAME="102_7"><SPAN CLASS="definition">Equal</SPAN></A>,
   <A NAME="103_7"><SPAN CLASS="definition">Not_Equal</SPAN></A>,
   <A NAME="104_7"><SPAN CLASS="definition">Greater_Or_Equal</SPAN></A>,
   <A NAME="105_7"><SPAN CLASS="definition">Greater_Than</SPAN></A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
 Relational operators between two expressions
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="119_13"><SPAN CLASS="definition">Compare</SPAN></A>
  (Expr1 : <A HREF="#63_9">Expression_Values</A>;
   <EM><SPAN CLASS="comment">-- Comparison operand 1</SPAN></EM>

   Expr2 : <A HREF="#63_9">Expression_Values</A>;
   <EM><SPAN CLASS="comment">-- Comparison operand 2</SPAN></EM>

   Operator : <A HREF="#99_9">Relational_Operators</A>
   <EM><SPAN CLASS="comment">-- The relationship to evaluate between the two expressions</SPAN></EM>
   ) <STRONG>return</STRONG> <A HREF="#63_9">Expression_Values</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
 Relationally compare the two expressions, at most one of which
  is required to be a node set.
<P>
 If there is a node set, returns
  an As_Node_Set expression with just those members of the
  original node set that have the specified relationship with the
  other expression.
<P>
 If not, returns an As_Boolean expression indicating the result
  of the comparison.
<P>
 XXX Maybe should think of a better name.
</P>
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="132_9"><SPAN CLASS="definition">Computations</SPAN></A> <STRONG>is</STRONG>
  (<A NAME="133_7"><SPAN CLASS="definition">Add</SPAN></A>, <A NAME="133_12"><SPAN CLASS="definition">Subtract</SPAN></A>, <A NAME="133_22"><SPAN CLASS="definition">Multiply</SPAN></A>, <A NAME="133_32"><SPAN CLASS="definition">Divide</SPAN></A>, <A NAME="133_40"><SPAN CLASS="definition">Modulo</SPAN></A>, <A NAME="133_48"><SPAN CLASS="definition">Negate</SPAN></A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
 Basic math computations that can be performed on expressions
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="139_13"><SPAN CLASS="definition">Compute</SPAN></A>
  (Expr1 : <A HREF="#63_9">Expression_Values</A>;
   <EM><SPAN CLASS="comment">-- Comparison operand 1</SPAN></EM>

   Expr2 : <A HREF="#63_9">Expression_Values</A>;
   <EM><SPAN CLASS="comment">-- Comparison operand 2</SPAN></EM>

   Computation : <A HREF="#132_9">Computations</A>
   <EM><SPAN CLASS="comment">-- The mathematical operation to perform</SPAN></EM>
   ) <STRONG>return</STRONG> <A HREF="#63_9">Expression_Values</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
 Perform the designated computations on the two expression
  operands.  The operands will have their types harmonized, so if
  that cannot be accomplished, Invalid_Coercion will be raised.
  For unary minus (negation), Expr2 will be ignored.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="158_14"><SPAN CLASS="definition">Evaluate_Function</SPAN></A> (Function_Name : <STRONG>in</STRONG>     String;
                             Context_Node  : <STRONG>in</STRONG>     <A HREF="#37_9">Node_Items</A>;
                             Args          : <STRONG>in</STRONG> <STRONG>out</STRONG> <A HREF="#79_9">Argument_List</A>;
                             Result        :    <STRONG>out</STRONG> <A HREF="#63_9">Expression_Values</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
 Evaluate the core library function in the context of the given
  node.
</DIV>
</TD></TR>
</TABLE>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD COLSPAN=2 CLASS="odd">
<PRE><CODE><STRONG>end</STRONG> <A HREF="mckae.html">McKae</A>.<A HREF="mckae-xml.html">XML</A>.<A HREF="mckae-xml-xpath.html">XPath</A>.Expressions;</CODE></PRE>
</TD></TR>
</TABLE>
<!-- --><HR><TABLE WIDTH="100%" CLASS="footer" BORDER=0 CELLSPACING=0 CELLPADDING=5><TR><TD><FONT SIZE=-1><!-- -->Generated on 2019-12-17 at 14:03:38 by <A HREF="http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/" TARGET="_top">AdaBrowse 4.0.3</A> using configuration file adabrowse.cfg.</FONT></TD></TR></TABLE>
</BODY>
</HTML>
